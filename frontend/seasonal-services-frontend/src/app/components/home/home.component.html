<div class="homepage-container">
  <!-- Hero Section -->
  <section class="hero-section">
    <div class="hero-content">
      <h1>Your Trusted Experts in Snow Plowing & Lawn Care</h1>
      <p class="hero-subtitle">Professional Services for Every Season</p>
      <div class="hero-cta">
        <button mat-raised-button color="primary" routerLink="/quote">
          <mat-icon>calculate</mat-icon>
          Get a Free Quote
        </button>
        <button mat-stroked-button color="accent" (click)="scrollToSection('services')">
          <mat-icon>explore</mat-icon>
          Explore Services
        </button>
      </div>
    </div>
  </section>

  <!-- Services Section -->
  <section id="services" class="services-section">
    <h2>Our Services</h2>
    <div class="service-cards">
      <!-- Replace with Angular looping if dynamic content is used -->
      <div class="service-card">
        <h3>Sample Service</h3>
        <p>Description of the service.</p>
      </div>
    </div>
  </section>

  <!-- Weather Info Promo Section -->
  <section class="weather-info-promo">
    <div class="promo-content">
      <h3>Stay Ahead of the Weather!</h3>
      <p>
        Our team keeps you updated with the latest weather forecasts to help you plan for snow removal and lawn care.
        Get real-time updates on snowfall, temperature changes, and more to ensure your property is always prepared.
      </p>
      <a href="/weather-dashboard" class="promo-button">View Weather Dashboard</a>
    </div>
  </section>

  <!-- Testimonials Section -->
  <section class="testimonials-section">
    <h2>What Our Clients Say</h2>
    <div class="testimonial-carousel">
      <div class="testimonial-slide">
        <p>Sample testimonial text.</p>
      </div>
    </div>
  </section>

  <!-- CTA Section -->
  <section class="cta-section">
    <div class="cta-content">
      <h2>Ready to Get Started?</h2>
      <p>Contact us today for a free consultation and estimate!</p>
      <div class="cta-buttons">
        <button mat-raised-button color="primary" routerLink="/quote">
          <mat-icon>schedule</mat-icon>
          Schedule Service
        </button>
        <button mat-stroked-button color="accent" routerLink="/contact">
          <mat-icon>phone</mat-icon>
          Contact Us
        </button>
      </div>
    </div>
  </section>
</div>


<!-- Weather Alert Button -->
<div class="weather-alert-container" *ngIf="!hasError">
  <button
    class="weather-alert-button"
    [class.has-alerts]="hasActiveAlerts"
    [class.is-loading]="isLoading"
    [ngClass]="getAlertSeverityClass(currentAlert?.severity)"
    (click)="toggleAlerts()"
    [matTooltip]="getAlertTooltip()"
    matTooltipPosition="left"
  >
    <div class="alert-icon-wrapper">
      <mat-icon class="alert-icon">{{ getAlertIcon(currentAlert?.severity) }}</mat-icon>
      <div class="alert-pulse" *ngIf="hasActiveAlerts"></div>
    </div>
    <span class="alert-count" *ngIf="hasActiveAlerts">
      {{ weatherAlerts.length }}
    </span>
  </button>

  <!-- Alert Panel -->
  <div class="alert-panel" *ngIf="showAlerts && hasActiveAlerts" [@expandCollapse]>
    <div class="panel-header">
      <h3>Active Weather Alerts</h3>
      <button mat-icon-button (click)="toggleAlerts()">
        <mat-icon>close</mat-icon>
      </button>
    </div>
    <div class="alerts-list">
      <div *ngFor="let alert of weatherAlerts"
           class="alert-item"
           [ngClass]="getAlertSeverityClass(alert.severity)">
        <div class="alert-item-header">
          <mat-icon>{{ getAlertIcon(alert.severity) }}</mat-icon>
          <div class="alert-item-title">
            <h4>{{ alert.event }}</h4>
            <span class="alert-severity-badge">{{ alert.severity }}</span>
          </div>
        </div>
        <p class="alert-headline">{{ alert.headline }}</p>
        <div class="alert-description" [innerHTML]="formatDescription(alert.description)"></div>
        <div class="alert-details">
          <div class="alert-timing">
            <div>Effective: {{ formatDate(alert.effective) }}</div>
            <div>Expires: {{ formatDate(alert.expires) }}</div>
          </div>
          <button mat-button color="primary" (click)="navigateToWeatherDashboard()">
            View Full Details
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
