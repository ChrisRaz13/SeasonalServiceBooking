<!-- snow-plowing-calendar.component.html -->
<div class="dashboard-container">
  <!-- Loading State -->
  <div *ngIf="isLoading" class="loading-container" @fadeSlideInOut>
    <mat-spinner></mat-spinner>
    <p class="loading-text">Loading weather data...</p>
  </div>

  <!-- Main Content -->
  <ng-container *ngIf="!isLoading">
    <app-alert-banner [alerts]="weatherAlerts"></app-alert-banner>
    <app-current-conditions
      [snowProbability]="getCurrentSnowProbability()"
      [accumulation]="getExpectedAccumulation()"
      [groundTemp]="currentGroundTemp"
      [windSpeed]="currentWindSpeed"
      [serviceStatus]="getServiceStatus()"
      [isServiceRequired]="isServiceRequired()">
    </app-current-conditions>

    <app-hourly-forecast
      [forecast]="hourlyForecast"
      [chartData]="hourlyChartData"
      [chartOptions]="hourlyChartOptions">
    </app-hourly-forecast>

    <app-weekly-forecast
      [forecast]="dailyForecast"
      (toggleDetails)="togglePeriodDetails($event)">
    </app-weekly-forecast>

    <app-service-status-footer [isServiceRequired]="isServiceRequired()"></app-service-status-footer>
  </ng-container>
</div>
