<!-- weekly-forecast.component.html -->
<mat-card class="weekly-forecast-card">
  <div class="forecast-timeline">
    <div class="forecast-day" *ngFor="let day of forecast">
      <div class="day-header">
        <div class="day-info">
          <span class="day-name">{{ formatDate(day.date, 'EEE') }}</span>
          <span class="full-date">{{ formatDate(day.date, 'MMM d') }}</span>
        </div>
        <div class="temp-range">
          <span class="high">{{day.highTemp}}째</span>
          <span class="low" *ngIf="day.lowTemp !== null">{{day.lowTemp}}째</span>
        </div>
      </div>

      <div class="periods-container">
        <!-- Day Period -->
        <div class="period-card day-period">
          <div class="period-header">
            <span class="time-label">{{day.dayPeriod.timeOfDay}}</span>
            <span class="temp-value">{{day.dayPeriod.temperature}}째{{day.dayPeriod.temperatureUnit}}</span>
          </div>

          <div class="period-weather">
            <span class="weather-emoji">{{ getWeatherEmoji(day.dayPeriod.shortForecast) }}</span>
            <span class="condition">{{day.dayPeriod.shortForecast}}</span>
          </div>

          <div class="snow-info" *ngIf="hasSnowInfo(day.dayPeriod)">
            <div class="snow-chance" *ngIf="day.dayPeriod.snowProbability > 0">
              <span class="label">Chance of Snow:</span>
              <span class="value">{{day.dayPeriod.snowProbability}}%</span>
            </div>
            <div class="snow-amount" *ngIf="day.dayPeriod.snowAmount > 0">
              <span class="label">Expected Amount:</span>
              <span class="value">{{day.dayPeriod.snowAmount}}"</span>
            </div>
          </div>

          <div class="wind-info">
            {{day.dayPeriod.windSpeed}} {{day.dayPeriod.windDirection}}
          </div>

          <div class="detailed-forecast">
            {{day.dayPeriod.detailedForecast}}
          </div>
        </div>

        <!-- Night Period -->
        <div class="period-card night-period" *ngIf="day.nightPeriod">
          <div class="period-header">
            <span class="time-label">{{day.nightPeriod.timeOfDay}}</span>
            <span class="temp-value">{{day.nightPeriod.temperature}}째{{day.nightPeriod.temperatureUnit}}</span>
          </div>

          <div class="period-weather">
            <span class="weather-emoji">{{ getWeatherEmoji(day.nightPeriod.shortForecast) }}</span>
            <span class="condition">{{day.nightPeriod.shortForecast}}</span>
          </div>

          <div class="snow-info" *ngIf="hasSnowInfo(day.nightPeriod)">
            <div class="snow-chance" *ngIf="day.nightPeriod.snowProbability > 0">
              <span class="label">Chance of Snow:</span>
              <span class="value">{{day.nightPeriod.snowProbability}}%</span>
            </div>
            <div class="snow-amount" *ngIf="day.nightPeriod.snowAmount > 0">
              <span class="label">Expected Amount:</span>
              <span class="value">{{day.nightPeriod.snowAmount}}"</span>
            </div>
          </div>

          <div class="wind-info">
            {{day.nightPeriod.windSpeed}} {{day.nightPeriod.windDirection}}
          </div>

          <div class="detailed-forecast">
            {{day.nightPeriod.detailedForecast}}
          </div>
        </div>
      </div>
    </div>
  </div>
</mat-card>
